cmake_minimum_required(VERSION 3.20)

macro(print_all_variables)
    message(STATUS "print_all_variables------------------------------------------{")
    get_cmake_property(_variableNames VARIABLES)
    foreach (_variableName ${_variableNames})
        message(STATUS "${_variableName}=${${_variableName}}")
    endforeach()
    message(STATUS "print_all_variables------------------------------------------}")
endmacro()

project(homework7)

set(CMAKE_CXX_STANDARD 11)
include(${CMAKE_SOURCE_DIR}/conanbuildinfo.cmake)
conan_basic_setup()

##disable parallel builds
#set(CMAKE_BUILD_PARALLEL_LEVEL 1)
print_all_variables()
## this should allow interactive break w/ ^C
#foreach(Unused RANGE 1 1000000000 1)
#endforeach()

add_executable(homework7 main.cpp
                         autogenerated.gproto-classes/FullName.pb.cc
                         autogenerated.gproto-classes/Student.pb.cc
                         autogenerated.gproto-classes/StudentsGroup.pb.cc)
target_link_libraries(homework7 ${CONAN_LIBS})
target_include_directories(homework7 PRIVATE ${CMAKE_SOURCE_DIR}/autogenerated.gproto-classes/)
